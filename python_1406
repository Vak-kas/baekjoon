
class linklist:
    def __init__(self):
        self.data = None;
        self.pre = None;
        self.next = None;
        
def printCurrent(current):
    print(current.data);
        

def printlist(root):
    current = root.next;
    print(current.data, end= "");
    while current.next!=None:
        current = current.next;
        print(current.data, end = "");
        
        
        
def addNode(current, alp):
    node = linklist();
    node.data = alp;
    
    if current.next == None:
        current.next = node;
        node.pre = current;
    else:
        nxt = current.next;

        current.next = node;
        node.pre = current;

        nxt.pre = node;
        node.next = nxt;

    current = node;
    return current;


def leftMove(current):
    if current.pre == None:
        return current;
    current = current.pre;
    return current;

def rightMove(current):
    if current.next == None:
        return current;
    current = current.next;
    return current;

def deleteNode(current):
    global root;
    if current == root:
        return current;
    elif current.next ==None:
        pre = current.pre;
        pre.next = None;
        current.pre = None;
        return pre;
    else:
        pre = current.pre;
        next = current.next;
        
        pre.next = current.next;
        next.pre = current.pre;
        current.pre = None;
        current.next = None;
        return pre;
        
    
    




current = None;
pre = None;

string = input();
start = linklist();
root = start;


node = linklist();
node.data = string[0];
node.pre = start;
start.next = node;
current = node;




for i in string[1:]:
    node = linklist();
    pre = current;
    node.data = i;
    current = node;
    pre.next = current;
    current.pre = pre;


repeat = int(input());

for i in range(repeat):
    order = list(input().split());
    
    if order[0] == "L":
        current = leftMove(current);
        # printCurrent(current);
    elif order[0] == "P":
        current = addNode(current, order[1]);
        # printCurrent(current);
    elif order[0] == "B":
        current = deleteNode(current);
        # printCurrent(current);
    elif order[0] == "D":
        current = rightMove(current);
        # printCurrent(current);


    
printlist(root);

